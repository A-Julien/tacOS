<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tac0S: FileSystem Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tac0S
   </div>
   <div id="projectbrief">Template Affectional Command Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_file_system-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FileSystem Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a12d63294322b37e934edd03ff614b95a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#a12d63294322b37e934edd03ff614b95a">FileSystem</a> (bool format)</td></tr>
<tr class="memdesc:a12d63294322b37e934edd03ff614b95a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_file_system.html#a12d63294322b37e934edd03ff614b95a" title="FileSystem::FileSystem Initialize the file system. If format = TRUE, the disk has nothing on it...">FileSystem::FileSystem</a> Initialize the file system. If format = TRUE, the disk has nothing on it, and we need to initialize the disk to contain an empty directory, and a bitmap of free sectors (with almost but not all of the sectors marked as free).  <a href="#a12d63294322b37e934edd03ff614b95a">More...</a><br /></td></tr>
<tr class="separator:a12d63294322b37e934edd03ff614b95a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e366f036e9d9cd884fa689963aacc49"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9e366f036e9d9cd884fa689963aacc49"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#a9e366f036e9d9cd884fa689963aacc49">~FileSystem</a> ()</td></tr>
<tr class="memdesc:a9e366f036e9d9cd884fa689963aacc49"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_file_system.html#a9e366f036e9d9cd884fa689963aacc49" title="~FileSystem() delete all file system ">~FileSystem()</a> delete all file system <br /></td></tr>
<tr class="separator:a9e366f036e9d9cd884fa689963aacc49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a011631dc0894be60b2347ece933352df"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#a011631dc0894be60b2347ece933352df">Create</a> (const char *name, int initialSize, <a class="el" href="filehdr_8h.html#a432e9e0e3cb9b5b6f20a9df00ab4a473">File_type</a> type=f)</td></tr>
<tr class="memdesc:a011631dc0894be60b2347ece933352df"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_file_system.html#a011631dc0894be60b2347ece933352df" title="FileSystem::Create Create a file in the Nachos file system (similar to UNIX create). Since we can&#39;t increase the size of files dynamically, we have to give Create the initial size of the file. ">FileSystem::Create</a> Create a file in the Nachos file system (similar to UNIX create). Since we can't increase the size of files dynamically, we have to give Create the initial size of the file.  <a href="#a011631dc0894be60b2347ece933352df">More...</a><br /></td></tr>
<tr class="separator:a011631dc0894be60b2347ece933352df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5fd27042d296d94894a9efa47433de0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#ae5fd27042d296d94894a9efa47433de0">MkDir</a> (const char *directory_name, unsigned int tid=0)</td></tr>
<tr class="memdesc:ae5fd27042d296d94894a9efa47433de0"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_file_system.html#ae5fd27042d296d94894a9efa47433de0" title="FileSystem::MkDir Create a new folder in the Nachos file system. ">FileSystem::MkDir</a> Create a new folder in the Nachos file system.  <a href="#ae5fd27042d296d94894a9efa47433de0">More...</a><br /></td></tr>
<tr class="separator:ae5fd27042d296d94894a9efa47433de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5f90a5ab3e3cde4406d65069d9eaff7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#ac5f90a5ab3e3cde4406d65069d9eaff7">CdDir</a> (const char *directory_name, unsigned int tid=0)</td></tr>
<tr class="memdesc:ac5f90a5ab3e3cde4406d65069d9eaff7"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_file_system.html#ac5f90a5ab3e3cde4406d65069d9eaff7" title="FileSystem::CdDir Come in folder given. ">FileSystem::CdDir</a> Come in folder given.  <a href="#ac5f90a5ab3e3cde4406d65069d9eaff7">More...</a><br /></td></tr>
<tr class="separator:ac5f90a5ab3e3cde4406d65069d9eaff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b7b8417be7f38cd68837da00aef5f4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#a72b7b8417be7f38cd68837da00aef5f4">RmDir</a> (const char *directory_name, unsigned int tid=0)</td></tr>
<tr class="memdesc:a72b7b8417be7f38cd68837da00aef5f4"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_file_system.html#a72b7b8417be7f38cd68837da00aef5f4" title="FileSystem::RmDir Remove the folder given. ">FileSystem::RmDir</a> Remove the folder given.  <a href="#a72b7b8417be7f38cd68837da00aef5f4">More...</a><br /></td></tr>
<tr class="separator:a72b7b8417be7f38cd68837da00aef5f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4419ed69b81492633682d9eed8ccff0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpath__parse.html">path_parse_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#a4419ed69b81492633682d9eed8ccff0e">CdFromPathName</a> (const char *path_name, unsigned int tid=0, int truncate=0)</td></tr>
<tr class="memdesc:a4419ed69b81492633682d9eed8ccff0e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_file_system.html#a4419ed69b81492633682d9eed8ccff0e" title="FileSystem::CdFromPathName can jump into the directory with a path. ">FileSystem::CdFromPathName</a> can jump into the directory with a path.  <a href="#a4419ed69b81492633682d9eed8ccff0e">More...</a><br /></td></tr>
<tr class="separator:a4419ed69b81492633682d9eed8ccff0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ee083dc9dc05322ba521b528108799"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_open_file.html">OpenFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#a31ee083dc9dc05322ba521b528108799">OpenFromPathName</a> (const char *path_name, unsigned int tid=0)</td></tr>
<tr class="memdesc:a31ee083dc9dc05322ba521b528108799"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_file_system.html#a31ee083dc9dc05322ba521b528108799" title="FileSystem::OpenFromPathName. ">FileSystem::OpenFromPathName</a>.  <a href="#a31ee083dc9dc05322ba521b528108799">More...</a><br /></td></tr>
<tr class="separator:a31ee083dc9dc05322ba521b528108799"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fe804d541aa644338212b2b573f25dd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#a4fe804d541aa644338212b2b573f25dd">MkdirFromPathName</a> (const char *path_name, unsigned int tid=0)</td></tr>
<tr class="memdesc:a4fe804d541aa644338212b2b573f25dd"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_file_system.html#a4fe804d541aa644338212b2b573f25dd" title="FileSystem::MkdirFromPathName. ">FileSystem::MkdirFromPathName</a>.  <a href="#a4fe804d541aa644338212b2b573f25dd">More...</a><br /></td></tr>
<tr class="separator:a4fe804d541aa644338212b2b573f25dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57d738480c3b4b594c53de2f75cebfd3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#a57d738480c3b4b594c53de2f75cebfd3">RmdirFromPathName</a> (const char *path_name, unsigned int tid=0)</td></tr>
<tr class="separator:a57d738480c3b4b594c53de2f75cebfd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6767501774f8593eb12787adeee72443"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_open_file.html">OpenFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#a6767501774f8593eb12787adeee72443">Open</a> (const char *name, unsigned int tid=0)</td></tr>
<tr class="memdesc:a6767501774f8593eb12787adeee72443"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_file_system.html#a6767501774f8593eb12787adeee72443" title="FileSystem::Open Open a file for reading and writing. To open a file: Find the location of the file&#39;s...">FileSystem::Open</a> Open a file for reading and writing. To open a file: Find the location of the file's header, using the directory Bring the header into memory.  <a href="#a6767501774f8593eb12787adeee72443">More...</a><br /></td></tr>
<tr class="separator:a6767501774f8593eb12787adeee72443"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce62e4215a1ef607a8f692ef4597d8c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#adce62e4215a1ef607a8f692ef4597d8c">Remove</a> (const char *name, unsigned int tid=0)</td></tr>
<tr class="memdesc:adce62e4215a1ef607a8f692ef4597d8c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_file_system.html#adce62e4215a1ef607a8f692ef4597d8c" title="FileSystem::Remove Delete a file from the file system. This requires: Remove it from the directory De...">FileSystem::Remove</a> Delete a file from the file system. This requires: Remove it from the directory Delete the space for its header Delete the space for its data blocks Write changes to directory, bitmap back to disk.  <a href="#adce62e4215a1ef607a8f692ef4597d8c">More...</a><br /></td></tr>
<tr class="separator:adce62e4215a1ef607a8f692ef4597d8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf76918c6f0d24bc72aaa84625adfddf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaf76918c6f0d24bc72aaa84625adfddf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#aaf76918c6f0d24bc72aaa84625adfddf">List</a> ()</td></tr>
<tr class="memdesc:aaf76918c6f0d24bc72aaa84625adfddf"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_file_system.html#aaf76918c6f0d24bc72aaa84625adfddf" title="FileSystem::List List all the files in the file system directory. ">FileSystem::List</a> <a class="el" href="class_list.html">List</a> all the files in the file system directory. <br /></td></tr>
<tr class="separator:aaf76918c6f0d24bc72aaa84625adfddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebaf06661b1879a62afefa5abe99f21e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aebaf06661b1879a62afefa5abe99f21e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#aebaf06661b1879a62afefa5abe99f21e">Print</a> ()</td></tr>
<tr class="memdesc:aebaf06661b1879a62afefa5abe99f21e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_file_system.html#aebaf06661b1879a62afefa5abe99f21e" title="FileSystem::Print Print everything about the file system: the contents of the bitmap the contents of ...">FileSystem::Print</a> Print everything about the file system: the contents of the bitmap the contents of the directory for each file in the directory, the contents of the file header the data in the file. <br /></td></tr>
<tr class="separator:aebaf06661b1879a62afefa5abe99f21e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae6aad6e542830a44f94afbdcd11055"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#a5ae6aad6e542830a44f94afbdcd11055">registerOpenFileTable</a> (int *table, unsigned int tid)</td></tr>
<tr class="memdesc:a5ae6aad6e542830a44f94afbdcd11055"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allow a thread to use filesystem by register his tid.  <a href="#a5ae6aad6e542830a44f94afbdcd11055">More...</a><br /></td></tr>
<tr class="separator:a5ae6aad6e542830a44f94afbdcd11055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1837a687209c276f0d3364e5aa6eea93"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#a1837a687209c276f0d3364e5aa6eea93">unregisterOpenFileTable</a> (unsigned int tid)</td></tr>
<tr class="memdesc:a1837a687209c276f0d3364e5aa6eea93"><td class="mdescLeft">&#160;</td><td class="mdescRight">When thread die need to call this method.  <a href="#a1837a687209c276f0d3364e5aa6eea93">More...</a><br /></td></tr>
<tr class="separator:a1837a687209c276f0d3364e5aa6eea93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7263f681b6c5d7ebf3d2d46bef2f3a13"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#a7263f681b6c5d7ebf3d2d46bef2f3a13">UserOpen</a> (const char *name, unsigned int tid)</td></tr>
<tr class="memdesc:a7263f681b6c5d7ebf3d2d46bef2f3a13"><td class="mdescLeft">&#160;</td><td class="mdescRight">allow a user to open a file  <a href="#a7263f681b6c5d7ebf3d2d46bef2f3a13">More...</a><br /></td></tr>
<tr class="separator:a7263f681b6c5d7ebf3d2d46bef2f3a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90b284c334069ae8c4697e2843f55c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#ad90b284c334069ae8c4697e2843f55c1">UserRead</a> (int fileDescriptor, char *into, int numBytes, unsigned int tid)</td></tr>
<tr class="memdesc:ad90b284c334069ae8c4697e2843f55c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">allow user to read into file  <a href="#ad90b284c334069ae8c4697e2843f55c1">More...</a><br /></td></tr>
<tr class="separator:ad90b284c334069ae8c4697e2843f55c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4b68daeda87a6852fa709c3457802d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#acd4b68daeda87a6852fa709c3457802d">UserWrite</a> (int fileDescriptor, char *from, int numBytes, unsigned int tid)</td></tr>
<tr class="memdesc:acd4b68daeda87a6852fa709c3457802d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allow user to write into a file.  <a href="#acd4b68daeda87a6852fa709c3457802d">More...</a><br /></td></tr>
<tr class="separator:acd4b68daeda87a6852fa709c3457802d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26817b4466e48b20679b5cd1034799d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html#a26817b4466e48b20679b5cd1034799d5">UserSetSeek</a> (int fileDescriptor, int position, unsigned int tid)</td></tr>
<tr class="memdesc:a26817b4466e48b20679b5cd1034799d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">User method that allow user to move the seek into a file.  <a href="#a26817b4466e48b20679b5cd1034799d5">More...</a><br /></td></tr>
<tr class="separator:a26817b4466e48b20679b5cd1034799d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96603fbde4856bd2ba3b02ac37aa5e76"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a96603fbde4856bd2ba3b02ac37aa5e76"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>UserCloseFile</b> (int fileDescriptor, int *threadTableFileDescriptor, unsigned int tid)</td></tr>
<tr class="separator:a96603fbde4856bd2ba3b02ac37aa5e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a12d63294322b37e934edd03ff614b95a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FileSystem::FileSystem </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>format</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_file_system.html#a12d63294322b37e934edd03ff614b95a" title="FileSystem::FileSystem Initialize the file system. If format = TRUE, the disk has nothing on it...">FileSystem::FileSystem</a> Initialize the file system. If format = TRUE, the disk has nothing on it, and we need to initialize the disk to contain an empty directory, and a bitmap of free sectors (with almost but not all of the sectors marked as free). </p>
<p>If format = FALSE, we just have to open the files representing the bitmap and the directory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>&ndash; should we initialize the disk? </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac5f90a5ab3e3cde4406d65069d9eaff7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FileSystem::CdDir </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>directory_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_file_system.html#ac5f90a5ab3e3cde4406d65069d9eaff7" title="FileSystem::CdDir Come in folder given. ">FileSystem::CdDir</a> Come in folder given. </p>
<dl class="section return"><dt>Returns</dt><dd>Return TRUE if everything goes ok, otherwise, return FALSE. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>&ndash; name of folder to come in </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4419ed69b81492633682d9eed8ccff0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpath__parse.html">path_parse_t</a> * FileSystem::CdFromPathName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>truncate</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_file_system.html#a4419ed69b81492633682d9eed8ccff0e" title="FileSystem::CdFromPathName can jump into the directory with a path. ">FileSystem::CdFromPathName</a> can jump into the directory with a path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path_name</td><td>the path name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a011631dc0894be60b2347ece933352df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FileSystem::Create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>initialSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="filehdr_8h.html#a432e9e0e3cb9b5b6f20a9df00ab4a473">File_type</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code>f</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_file_system.html#a011631dc0894be60b2347ece933352df" title="FileSystem::Create Create a file in the Nachos file system (similar to UNIX create). Since we can&#39;t increase the size of files dynamically, we have to give Create the initial size of the file. ">FileSystem::Create</a> Create a file in the Nachos file system (similar to UNIX create). Since we can't increase the size of files dynamically, we have to give Create the initial size of the file. </p>
<p>The steps to create a file are: Make sure the file doesn't already exist Allocate a sector for the file header Allocate space on disk for the data blocks for the file Add the name to the directory Store the new file header on disk Flush the changes to the bitmap and the directory back to disk</p>
<dl class="section return"><dt>Returns</dt><dd>Return TRUE if everything goes ok, otherwise, return FALSE.</dd></dl>
<p>Create fails if: file is already in directory no free space for file header no free entry for file in directory no free space for data blocks for the file</p>
<p>Note that this implementation assumes there is no concurrent access to the file system!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>&ndash; name of file to be created </td></tr>
    <tr><td class="paramname">initialSize</td><td>&ndash; size of file to be created </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae5fd27042d296d94894a9efa47433de0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FileSystem::MkDir </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>directory_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_file_system.html#ae5fd27042d296d94894a9efa47433de0" title="FileSystem::MkDir Create a new folder in the Nachos file system. ">FileSystem::MkDir</a> Create a new folder in the Nachos file system. </p>
<dl class="section return"><dt>Returns</dt><dd>Return TRUE if everything goes ok, otherwise, return FALSE. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>&ndash; name of folder to be created </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4fe804d541aa644338212b2b573f25dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FileSystem::MkdirFromPathName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_file_system.html#a4fe804d541aa644338212b2b573f25dd" title="FileSystem::MkdirFromPathName. ">FileSystem::MkdirFromPathName</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path_name</td><td></td></tr>
    <tr><td class="paramname">tid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a6767501774f8593eb12787adeee72443"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_open_file.html">OpenFile</a> * FileSystem::Open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_file_system.html#a6767501774f8593eb12787adeee72443" title="FileSystem::Open Open a file for reading and writing. To open a file: Find the location of the file&#39;s...">FileSystem::Open</a> Open a file for reading and writing. To open a file: Find the location of the file's header, using the directory Bring the header into memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>&ndash; the text name of the file to be opened </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>openfile, or NULL if error </dd></dl>

</div>
</div>
<a class="anchor" id="a31ee083dc9dc05322ba521b528108799"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_open_file.html">OpenFile</a> * FileSystem::OpenFromPathName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_file_system.html#a31ee083dc9dc05322ba521b528108799" title="FileSystem::OpenFromPathName. ">FileSystem::OpenFromPathName</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path_name</td><td></td></tr>
    <tr><td class="paramname">tid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>openFile pointer of te file opened, null if no success </dd></dl>

</div>
</div>
<a class="anchor" id="a5ae6aad6e542830a44f94afbdcd11055"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileSystem::registerOpenFileTable </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allow a thread to use filesystem by register his tid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td></td></tr>
    <tr><td class="paramname">tid</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adce62e4215a1ef607a8f692ef4597d8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FileSystem::Remove </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_file_system.html#adce62e4215a1ef607a8f692ef4597d8c" title="FileSystem::Remove Delete a file from the file system. This requires: Remove it from the directory De...">FileSystem::Remove</a> Delete a file from the file system. This requires: Remove it from the directory Delete the space for its header Delete the space for its data blocks Write changes to directory, bitmap back to disk. </p>
<dl class="section return"><dt>Returns</dt><dd>Return TRUE if the file was deleted, FALSE if the file wasn't in the file system.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>&ndash; the text name of the file to be removed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a72b7b8417be7f38cd68837da00aef5f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FileSystem::RmDir </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>directory_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_file_system.html#a72b7b8417be7f38cd68837da00aef5f4" title="FileSystem::RmDir Remove the folder given. ">FileSystem::RmDir</a> Remove the folder given. </p>
<dl class="section return"><dt>Returns</dt><dd>Return TRUE if everything goes ok, otherwise, return FALSE. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>&ndash; name of folder to be removed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a57d738480c3b4b594c53de2f75cebfd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FileSystem::RmdirFromPathName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path_name</td><td></td></tr>
    <tr><td class="paramname">tid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a1837a687209c276f0d3364e5aa6eea93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FileSystem::unregisterOpenFileTable </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>When thread die need to call this method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tid</td><td>the tid of the thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if an error occur, otherwise true </dd></dl>

</div>
</div>
<a class="anchor" id="a7263f681b6c5d7ebf3d2d46bef2f3a13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileSystem::UserOpen </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>allow a user to open a file </p>
<p>Methode for User Syscall</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td></td></tr>
    <tr><td class="paramname">tid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a file descritptor </dd></dl>

</div>
</div>
<a class="anchor" id="ad90b284c334069ae8c4697e2843f55c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileSystem::UserRead </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fileDescriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>into</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>allow user to read into file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileDescriptor</td><td></td></tr>
    <tr><td class="paramname">into</td><td></td></tr>
    <tr><td class="paramname">numBytes</td><td></td></tr>
    <tr><td class="paramname">tid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a26817b4466e48b20679b5cd1034799d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileSystem::UserSetSeek </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fileDescriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User method that allow user to move the seek into a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileDescriptor</td><td></td></tr>
    <tr><td class="paramname">position</td><td></td></tr>
    <tr><td class="paramname">tid</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acd4b68daeda87a6852fa709c3457802d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileSystem::UserWrite </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fileDescriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allow user to write into a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileDescriptor</td><td></td></tr>
    <tr><td class="paramname">from</td><td></td></tr>
    <tr><td class="paramname">numBytes</td><td></td></tr>
    <tr><td class="paramname">tid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>code/filesys/<a class="el" href="filesys_8h_source.html">filesys.h</a></li>
<li>code/filesys/<a class="el" href="filesys_8cc.html">filesys.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
