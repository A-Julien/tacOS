<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tac0S: code/filesys/filesys.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tac0S
   </div>
   <div id="projectbrief">Template Affectional Command Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_050edd66366d13764f98250ef6db77f6.html">code</a></li><li class="navelem"><a class="el" href="dir_8e72e263aa613966cfdc557bf0a05642.html">filesys</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">filesys.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Data structures to represent the Nachos file system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;copyright.h&quot;</code><br />
<code>#include &quot;<a class="el" href="openfile_8h_source.html">openfile.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="filehdr_8h_source.html">filehdr.h</a>&quot;</code><br />
</div>
<p><a href="filesys_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpath__parse.html">path_parse</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfile__table.html">file_table</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structglobal__file__table.html">global_file_table</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_file_system.html">FileSystem</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aec814f5a9b6b98c1a437317f347609c8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec814f5a9b6b98c1a437317f347609c8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_OPEN_FILE</b>&#160;&#160;&#160;50</td></tr>
<tr class="separator:aec814f5a9b6b98c1a437317f347609c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e42e6b5b069e3da34685e2c9a478974"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e42e6b5b069e3da34685e2c9a478974"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROOT_DIRECTORY_FILE</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a4e42e6b5b069e3da34685e2c9a478974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798e700d4b7f672b9e396541379d6ec5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a798e700d4b7f672b9e396541379d6ec5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CURRENT_DIRECTORY_FILE</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a798e700d4b7f672b9e396541379d6ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ab44b1834780d7021f970d80bfdc7d55c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab44b1834780d7021f970d80bfdc7d55c"></a>
typedef struct <a class="el" href="structpath__parse.html">path_parse</a>&#160;</td><td class="memItemRight" valign="bottom"><b>path_parse_t</b></td></tr>
<tr class="separator:ab44b1834780d7021f970d80bfdc7d55c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb34d872869751ddcf9abbb4dc5949d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb34d872869751ddcf9abbb4dc5949d8"></a>
typedef struct <a class="el" href="structfile__table.html">file_table</a>&#160;</td><td class="memItemRight" valign="bottom"><b>file_table_t</b></td></tr>
<tr class="separator:adb34d872869751ddcf9abbb4dc5949d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f820db0d40514eb9ea178873ac67257"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f820db0d40514eb9ea178873ac67257"></a>
typedef struct <a class="el" href="structglobal__file__table.html">global_file_table</a>&#160;</td><td class="memItemRight" valign="bottom"><b>global_file_table_t</b></td></tr>
<tr class="separator:a3f820db0d40514eb9ea178873ac67257"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Data structures to represent the Nachos file system. </p>
<dl class="section author"><dt>Author</dt><dd>Olivier Hureau, Hugo Feydel , Julien ALaimo</dd></dl>
<p>A file system is a set of files stored on disk, organized into directories. Operations on the file system have to do with "naming" &ndash; creating, opening, and deleting files, given a textual file name. Operations on an individual "open" file (read, write, close) are to be found in the OpenFileTable class (<a class="el" href="openfile_8h.html" title="Data structures for opening, closing, reading and writing. ">openfile.h</a>).</p>
<p>We define two separate implementations of the file system. The "STUB" version just re-defines the Nachos file system operations as operations on the native UNIX file system on the machine running the Nachos simulation. This is provided in case the multiprogramming and virtual memory assignments (which make use of the file system) are done before the file system assignment.</p>
<p>The other version is a "real" file system, built on top of a disk simulator. The disk is simulated using the native UNIX file system (in a file named "DISK").</p>
<p>In the "real" implementation, there are two key data structures used in the file system. There is a single "root" directory, listing all of the files in the file system; unlike UNIX, the baseline system does not provide a hierarchical directory structure. In addition, there is a bitmap for allocating disk sectors. Both the root directory and the bitmap are themselves stored as files in the Nachos file system &ndash; this causes an interesting bootstrap problem when the simulated disk is initialized.</p>
<p>Copyright (c) 1992-1993 The Regents of the University of California. All rights reserved. See <a class="el" href="copyright_8h_source.html">copyright.h</a> for copyright notice and limitation of liability and disclaimer of warranty provisions. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
