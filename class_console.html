<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tac0S: Console Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tac0S
   </div>
   <div id="projectbrief">Template Affectional Command Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_console-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Console Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The following class defines a hardware console device. Input and output to the device is simulated by reading and writing to UNIX files ("readFile" and "writeFile").  
 <a href="class_console.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="console_8h_source.html">console.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a406c2b2b53d474272656d7ec934b7235"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#a406c2b2b53d474272656d7ec934b7235">Console</a> (char *readFile, char *writeFile, VoidFunctionPtr readAvail, VoidFunctionPtr writeDone, int callArg)</td></tr>
<tr class="memdesc:a406c2b2b53d474272656d7ec934b7235"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_console.html#a406c2b2b53d474272656d7ec934b7235" title="Console::Console Initialize the simulation of a hardware console device. ">Console::Console</a> Initialize the simulation of a hardware console device.  <a href="#a406c2b2b53d474272656d7ec934b7235">More...</a><br /></td></tr>
<tr class="separator:a406c2b2b53d474272656d7ec934b7235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e8c79c8579b1b076e53848c540d4e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32e8c79c8579b1b076e53848c540d4e7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#a32e8c79c8579b1b076e53848c540d4e7">~Console</a> ()</td></tr>
<tr class="memdesc:a32e8c79c8579b1b076e53848c540d4e7"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_console.html#a32e8c79c8579b1b076e53848c540d4e7" title="Console::~Console Clean up console emulation. ">Console::~Console</a> Clean up console emulation. <br /></td></tr>
<tr class="separator:a32e8c79c8579b1b076e53848c540d4e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4828702d63f7f144e8d17395471b59f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#af4828702d63f7f144e8d17395471b59f">PutChar</a> (char ch)</td></tr>
<tr class="memdesc:af4828702d63f7f144e8d17395471b59f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_console.html#af4828702d63f7f144e8d17395471b59f" title="Console::PutChar() Write a character to the simulated display, schedule an interrupt to occur in the ...">Console::PutChar()</a> Write a character to the simulated display, schedule an interrupt to occur in the future, and return.  <a href="#af4828702d63f7f144e8d17395471b59f">More...</a><br /></td></tr>
<tr class="separator:af4828702d63f7f144e8d17395471b59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2f18e347f92c0a1f3d8a4b86b024d9"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#aee2f18e347f92c0a1f3d8a4b86b024d9">GetChar</a> ()</td></tr>
<tr class="memdesc:aee2f18e347f92c0a1f3d8a4b86b024d9"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_console.html#aee2f18e347f92c0a1f3d8a4b86b024d9" title="Console::GetChar() Read a character from the input buffer, if there is any there. Either return the c...">Console::GetChar()</a> Read a character from the input buffer, if there is any there. Either return the character, or EOF if none buffered.  <a href="#aee2f18e347f92c0a1f3d8a4b86b024d9">More...</a><br /></td></tr>
<tr class="separator:aee2f18e347f92c0a1f3d8a4b86b024d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a611e74235a39a9b7216b6d66e32c30"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a611e74235a39a9b7216b6d66e32c30"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#a8a611e74235a39a9b7216b6d66e32c30">WriteDone</a> ()</td></tr>
<tr class="memdesc:a8a611e74235a39a9b7216b6d66e32c30"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_console.html#a8a611e74235a39a9b7216b6d66e32c30" title="Console::WriteDone() Internal routine called when it is time to invoke the interrupt handler to tell ...">Console::WriteDone()</a> Internal routine called when it is time to invoke the interrupt handler to tell the Nachos kernel that the output character has completed. <br /></td></tr>
<tr class="separator:a8a611e74235a39a9b7216b6d66e32c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a099797597b7bd0b349518aac215fcb2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#a099797597b7bd0b349518aac215fcb2f">CheckCharAvail</a> ()</td></tr>
<tr class="memdesc:a099797597b7bd0b349518aac215fcb2f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_console.html#a099797597b7bd0b349518aac215fcb2f" title="Console::CheckCharAvail() Periodically called to check if a character is available for input from the...">Console::CheckCharAvail()</a> Periodically called to check if a character is available for input from the simulated keyboard (eg, has it been typed?).  <a href="#a099797597b7bd0b349518aac215fcb2f">More...</a><br /></td></tr>
<tr class="separator:a099797597b7bd0b349518aac215fcb2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ce03ee7d0b995a56a4b8c01f6f8a095"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_console.html#a9ce03ee7d0b995a56a4b8c01f6f8a095">Feof</a> ()</td></tr>
<tr class="memdesc:a9ce03ee7d0b995a56a4b8c01f6f8a095"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_console.html#a9ce03ee7d0b995a56a4b8c01f6f8a095" title="Console::Feof Initialize the simulation of a hardware console device. ">Console::Feof</a> Initialize the simulation of a hardware console device.  <a href="#a9ce03ee7d0b995a56a4b8c01f6f8a095">More...</a><br /></td></tr>
<tr class="separator:a9ce03ee7d0b995a56a4b8c01f6f8a095"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The following class defines a hardware console device. Input and output to the device is simulated by reading and writing to UNIX files ("readFile" and "writeFile"). </p>
<p>Since the device is asynchronous, the interrupt handler "readAvail" is called when a character has arrived, ready to be read in. The interrupt handler "writeDone" is called when an output character has been "put", so that the next character can be written. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a406c2b2b53d474272656d7ec934b7235"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Console::Console </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>readFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>writeFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VoidFunctionPtr&#160;</td>
          <td class="paramname"><em>readAvail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VoidFunctionPtr&#160;</td>
          <td class="paramname"><em>writeDone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>callArg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_console.html#a406c2b2b53d474272656d7ec934b7235" title="Console::Console Initialize the simulation of a hardware console device. ">Console::Console</a> Initialize the simulation of a hardware console device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">readFile</td><td>&ndash; UNIX file simulating the keyboard (NULL -&gt; use stdin) </td></tr>
    <tr><td class="paramname">writeFile</td><td>&ndash; UNIX file simulating the display (NULL -&gt; use stdout) </td></tr>
    <tr><td class="paramname">readAvail</td><td>is the interrupt handler called when a character arrives from the keyboard </td></tr>
    <tr><td class="paramname">writeDone</td><td>is the interrupt handler called when a character has been output, so that it is ok to request the next char be output </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a099797597b7bd0b349518aac215fcb2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Console::CheckCharAvail </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_console.html#a099797597b7bd0b349518aac215fcb2f" title="Console::CheckCharAvail() Periodically called to check if a character is available for input from the...">Console::CheckCharAvail()</a> Periodically called to check if a character is available for input from the simulated keyboard (eg, has it been typed?). </p>
<p>Only read it in if there is buffer space for it (if the previous character has been grabbed out of the buffer by the Nachos kernel). Invoke the "read" interrupt handler, once the character has been put into the buffer. </p>

</div>
</div>
<a class="anchor" id="a9ce03ee7d0b995a56a4b8c01f6f8a095"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Console::Feof </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_console.html#a9ce03ee7d0b995a56a4b8c01f6f8a095" title="Console::Feof Initialize the simulation of a hardware console device. ">Console::Feof</a> Initialize the simulation of a hardware console device. </p>
<dl class="section return"><dt>Returns</dt><dd>bool : Return a bololean that indicate wether there is something more to read or not </dd></dl>

</div>
</div>
<a class="anchor" id="aee2f18e347f92c0a1f3d8a4b86b024d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char Console::GetChar </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_console.html#aee2f18e347f92c0a1f3d8a4b86b024d9" title="Console::GetChar() Read a character from the input buffer, if there is any there. Either return the c...">Console::GetChar()</a> Read a character from the input buffer, if there is any there. Either return the character, or EOF if none buffered. </p>
<dl class="section return"><dt>Returns</dt><dd>char The caracter available in the current FD </dd></dl>

</div>
</div>
<a class="anchor" id="af4828702d63f7f144e8d17395471b59f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Console::PutChar </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_console.html#af4828702d63f7f144e8d17395471b59f" title="Console::PutChar() Write a character to the simulated display, schedule an interrupt to occur in the ...">Console::PutChar()</a> Write a character to the simulated display, schedule an interrupt to occur in the future, and return. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td>: The caracter you wanted to be Put </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>code/machine/<a class="el" href="console_8h_source.html">console.h</a></li>
<li>code/machine/<a class="el" href="console_8cc.html">console.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
