<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tac0S: SynchDisk Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tac0S
   </div>
   <div id="projectbrief">Template Affectional Command Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_synch_disk-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SynchDisk Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The following class defines a "synchronous" disk abstraction. As with other I/O devices, the raw physical disk is an asynchronous device &ndash; requests to read or write portions of the disk return immediately, and an interrupt occurs later to signal that the operation completed. (Also, the physical characteristics of the disk device assume that only one operation can be requested at a time).  
 <a href="class_synch_disk.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="synchdisk_8h_source.html">synchdisk.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa6cc1815e0aca2d6fe11d426942e6538"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_synch_disk.html#aa6cc1815e0aca2d6fe11d426942e6538">SynchDisk</a> (const char *name)</td></tr>
<tr class="memdesc:aa6cc1815e0aca2d6fe11d426942e6538"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_synch_disk.html#aa6cc1815e0aca2d6fe11d426942e6538" title="SynchDisk::SynchDisk Initialize the synchronous interface to the physical disk, in turn initializing ...">SynchDisk::SynchDisk</a> Initialize the synchronous interface to the physical disk, in turn initializing the physical disk.  <a href="#aa6cc1815e0aca2d6fe11d426942e6538">More...</a><br /></td></tr>
<tr class="separator:aa6cc1815e0aca2d6fe11d426942e6538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e0c6875e2a243e4176b6da29fdf392b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e0c6875e2a243e4176b6da29fdf392b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_synch_disk.html#a0e0c6875e2a243e4176b6da29fdf392b">~SynchDisk</a> ()</td></tr>
<tr class="memdesc:a0e0c6875e2a243e4176b6da29fdf392b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_synch_disk.html#a0e0c6875e2a243e4176b6da29fdf392b" title="SynchDisk::~SynchDisk De-allocate data structures needed for the synchronous disk abstraction...">SynchDisk::~SynchDisk</a> De-allocate data structures needed for the synchronous disk abstraction. <br /></td></tr>
<tr class="separator:a0e0c6875e2a243e4176b6da29fdf392b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d8195bd5d464e4771946eb03c61e8c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_synch_disk.html#a7d8195bd5d464e4771946eb03c61e8c8">ReadSector</a> (int sectorNumber, char *<a class="el" href="structdata.html">data</a>)</td></tr>
<tr class="memdesc:a7d8195bd5d464e4771946eb03c61e8c8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_synch_disk.html#a7d8195bd5d464e4771946eb03c61e8c8" title="SynchDisk::ReadSector Read the contents of a disk sector into a buffer. Return only after the data ha...">SynchDisk::ReadSector</a> Read the contents of a disk sector into a buffer. Return only after the data has been read.  <a href="#a7d8195bd5d464e4771946eb03c61e8c8">More...</a><br /></td></tr>
<tr class="separator:a7d8195bd5d464e4771946eb03c61e8c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadb7e2ce6cf32727e493c63c5ea1018b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_synch_disk.html#aadb7e2ce6cf32727e493c63c5ea1018b">WriteSector</a> (int sectorNumber, char *<a class="el" href="structdata.html">data</a>)</td></tr>
<tr class="memdesc:aadb7e2ce6cf32727e493c63c5ea1018b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_synch_disk.html#aadb7e2ce6cf32727e493c63c5ea1018b" title="SynchDisk::WriteSector Write the contents of a buffer into a disk sector. Return only after the data ...">SynchDisk::WriteSector</a> Write the contents of a buffer into a disk sector. Return only after the data has been written.  <a href="#aadb7e2ce6cf32727e493c63c5ea1018b">More...</a><br /></td></tr>
<tr class="separator:aadb7e2ce6cf32727e493c63c5ea1018b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a973a65b7b7b92f5fabf18da8b8bae402"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a973a65b7b7b92f5fabf18da8b8bae402"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_synch_disk.html#a973a65b7b7b92f5fabf18da8b8bae402">RequestDone</a> ()</td></tr>
<tr class="memdesc:a973a65b7b7b92f5fabf18da8b8bae402"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_synch_disk.html#a973a65b7b7b92f5fabf18da8b8bae402" title="SynchDisk::RequestDone Disk interrupt handler. Wake up any thread waiting for the disk request to fin...">SynchDisk::RequestDone</a> <a class="el" href="class_disk.html" title="The following class defines a physical disk I/O device. The disk has a single surface, split up into &quot;tracks&quot;, and each track split up into &quot;sectors&quot; (the same number of sectors on each track, and each sector has the same number of bytes of storage). ">Disk</a> interrupt handler. Wake up any thread waiting for the disk request to finish. <br /></td></tr>
<tr class="separator:a973a65b7b7b92f5fabf18da8b8bae402"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The following class defines a "synchronous" disk abstraction. As with other I/O devices, the raw physical disk is an asynchronous device &ndash; requests to read or write portions of the disk return immediately, and an interrupt occurs later to signal that the operation completed. (Also, the physical characteristics of the disk device assume that only one operation can be requested at a time). </p>
<p>This class provides the abstraction that for any individual thread making a request, it waits around until the operation finishes before returning. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa6cc1815e0aca2d6fe11d426942e6538"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SynchDisk::SynchDisk </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_synch_disk.html#aa6cc1815e0aca2d6fe11d426942e6538" title="SynchDisk::SynchDisk Initialize the synchronous interface to the physical disk, in turn initializing ...">SynchDisk::SynchDisk</a> Initialize the synchronous interface to the physical disk, in turn initializing the physical disk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>&ndash; UNIX file name to be used as storage for the disk data (usually, "DISK") </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7d8195bd5d464e4771946eb03c61e8c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SynchDisk::ReadSector </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sectorNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_synch_disk.html#a7d8195bd5d464e4771946eb03c61e8c8" title="SynchDisk::ReadSector Read the contents of a disk sector into a buffer. Return only after the data ha...">SynchDisk::ReadSector</a> Read the contents of a disk sector into a buffer. Return only after the data has been read. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sectorNumber</td><td>&ndash; the disk sector to read </td></tr>
    <tr><td class="paramname">data</td><td>&ndash; the buffer to hold the contents of the disk sector </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aadb7e2ce6cf32727e493c63c5ea1018b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SynchDisk::WriteSector </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sectorNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_synch_disk.html#aadb7e2ce6cf32727e493c63c5ea1018b" title="SynchDisk::WriteSector Write the contents of a buffer into a disk sector. Return only after the data ...">SynchDisk::WriteSector</a> Write the contents of a buffer into a disk sector. Return only after the data has been written. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sectorNumber</td><td>&ndash; the disk sector to be written </td></tr>
    <tr><td class="paramname">data</td><td>&ndash; the new contents of the disk sector </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>code/filesys/<a class="el" href="synchdisk_8h_source.html">synchdisk.h</a></li>
<li>code/filesys/<a class="el" href="synchdisk_8cc.html">synchdisk.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
