<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tac0S: Directory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tac0S
   </div>
   <div id="projectbrief">Template Affectional Command Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_directory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Directory Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a77366fc5c4d73a3c20fc060640b1258a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_directory.html#a77366fc5c4d73a3c20fc060640b1258a">Directory</a> (int size)</td></tr>
<tr class="memdesc:a77366fc5c4d73a3c20fc060640b1258a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_directory.html#a77366fc5c4d73a3c20fc060640b1258a" title="Directory::Directory Initialize a directory; initially, the directory is completely empty...">Directory::Directory</a> Initialize a directory; initially, the directory is completely empty. If the disk is being formatted, an empty directory is all we need, but otherwise, we need to call FetchFrom in order to initialize it from disk.  <a href="#a77366fc5c4d73a3c20fc060640b1258a">More...</a><br /></td></tr>
<tr class="separator:a77366fc5c4d73a3c20fc060640b1258a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affbde8714685c61601421097d621341d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="affbde8714685c61601421097d621341d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_directory.html#affbde8714685c61601421097d621341d">~Directory</a> ()</td></tr>
<tr class="memdesc:affbde8714685c61601421097d621341d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_directory.html#affbde8714685c61601421097d621341d" title="Directory::~Directory De-allocate directory data structure. ">Directory::~Directory</a> De-allocate directory data structure. <br /></td></tr>
<tr class="separator:affbde8714685c61601421097d621341d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36ed455b21bbd9a66ffe8ec689ff7c73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_directory.html#a36ed455b21bbd9a66ffe8ec689ff7c73">FetchFrom</a> (<a class="el" href="class_open_file.html">OpenFile</a> *file)</td></tr>
<tr class="memdesc:a36ed455b21bbd9a66ffe8ec689ff7c73"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_directory.html#a36ed455b21bbd9a66ffe8ec689ff7c73" title="Directory::FetchFrom Read the contents of the directory from disk. ">Directory::FetchFrom</a> Read the contents of the directory from disk.  <a href="#a36ed455b21bbd9a66ffe8ec689ff7c73">More...</a><br /></td></tr>
<tr class="separator:a36ed455b21bbd9a66ffe8ec689ff7c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf5550df42587bbc604c71441a4d12fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_directory.html#abf5550df42587bbc604c71441a4d12fc">WriteBack</a> (<a class="el" href="class_open_file.html">OpenFile</a> *file)</td></tr>
<tr class="memdesc:abf5550df42587bbc604c71441a4d12fc"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_directory.html#abf5550df42587bbc604c71441a4d12fc" title="Directory::WriteBack Write any modifications to the directory back to disk. ">Directory::WriteBack</a> Write any modifications to the directory back to disk.  <a href="#abf5550df42587bbc604c71441a4d12fc">More...</a><br /></td></tr>
<tr class="separator:abf5550df42587bbc604c71441a4d12fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe376d1883918703cda2a6a4e23ffa8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_directory.html#abfe376d1883918703cda2a6a4e23ffa8">Find</a> (const char *name)</td></tr>
<tr class="memdesc:abfe376d1883918703cda2a6a4e23ffa8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_directory.html#abfe376d1883918703cda2a6a4e23ffa8" title="Directory::Find Look up file name in directory, and return the disk sector number where the file&#39;s he...">Directory::Find</a> Look up file name in directory, and return the disk sector number where the file's header is stored. Return -1 if the name isn't in the directory.  <a href="#abfe376d1883918703cda2a6a4e23ffa8">More...</a><br /></td></tr>
<tr class="separator:abfe376d1883918703cda2a6a4e23ffa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab3700537a499e57a07c79ba666d2fcb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_directory.html#aab3700537a499e57a07c79ba666d2fcb">Add</a> (const char *name, int newSector)</td></tr>
<tr class="memdesc:aab3700537a499e57a07c79ba666d2fcb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_directory.html#aab3700537a499e57a07c79ba666d2fcb" title="Directory::Add Add a file into the directory. Return TRUE if successful;. ">Directory::Add</a> Add a file into the directory. Return TRUE if successful;.  <a href="#aab3700537a499e57a07c79ba666d2fcb">More...</a><br /></td></tr>
<tr class="separator:aab3700537a499e57a07c79ba666d2fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ad4280cbe376ef803105e6a35856165"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_directory.html#a3ad4280cbe376ef803105e6a35856165">Remove</a> (const char *name)</td></tr>
<tr class="memdesc:a3ad4280cbe376ef803105e6a35856165"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_directory.html#a3ad4280cbe376ef803105e6a35856165" title="Directory::Remove Remove a file name from the directory. Return TRUE if successful;. ">Directory::Remove</a> Remove a file name from the directory. Return TRUE if successful;.  <a href="#a3ad4280cbe376ef803105e6a35856165">More...</a><br /></td></tr>
<tr class="separator:a3ad4280cbe376ef803105e6a35856165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5065793fb216a407cc3871dd3c837117"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5065793fb216a407cc3871dd3c837117"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_directory.html#a5065793fb216a407cc3871dd3c837117">List</a> ()</td></tr>
<tr class="memdesc:a5065793fb216a407cc3871dd3c837117"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_directory.html#a5065793fb216a407cc3871dd3c837117" title="Directory::List List all the file names in the directory. ">Directory::List</a> <a class="el" href="class_list.html">List</a> all the file names in the directory. <br /></td></tr>
<tr class="separator:a5065793fb216a407cc3871dd3c837117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c728221c5557e4fc181c4091c6fcff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40c728221c5557e4fc181c4091c6fcff"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_directory.html#a40c728221c5557e4fc181c4091c6fcff">Print</a> ()</td></tr>
<tr class="memdesc:a40c728221c5557e4fc181c4091c6fcff"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_directory.html#a40c728221c5557e4fc181c4091c6fcff" title="Directory::Print List all the file names in the directory, their FileHeader locations, and the contents of each file. For debugging. ">Directory::Print</a> <a class="el" href="class_list.html">List</a> all the file names in the directory, their <a class="el" href="class_file_header.html" title="The following class defines the Nachos &quot;file header&quot; (in UNIX terms, the &quot;i-node&quot;), describing where on disk to find all of the data in the file. The file header is organized as a simple table of pointers to data blocks. ">FileHeader</a> locations, and the contents of each file. For debugging. <br /></td></tr>
<tr class="separator:a40c728221c5557e4fc181c4091c6fcff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3b3385e66ca6c5da2fd165f9f2c215"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d3b3385e66ca6c5da2fd165f9f2c215"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_directory.html#a3d3b3385e66ca6c5da2fd165f9f2c215">isEmpty</a> ()</td></tr>
<tr class="memdesc:a3d3b3385e66ca6c5da2fd165f9f2c215"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_directory.html#a3d3b3385e66ca6c5da2fd165f9f2c215" title="Directory::isEmpty Check if the folder is empty. ">Directory::isEmpty</a> Check if the folder is empty. <br /></td></tr>
<tr class="separator:a3d3b3385e66ca6c5da2fd165f9f2c215"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a77366fc5c4d73a3c20fc060640b1258a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Directory::Directory </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_directory.html#a77366fc5c4d73a3c20fc060640b1258a" title="Directory::Directory Initialize a directory; initially, the directory is completely empty...">Directory::Directory</a> Initialize a directory; initially, the directory is completely empty. If the disk is being formatted, an empty directory is all we need, but otherwise, we need to call FetchFrom in order to initialize it from disk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>is the number of entries in the directory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aab3700537a499e57a07c79ba666d2fcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Directory::Add </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newSector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_directory.html#aab3700537a499e57a07c79ba666d2fcb" title="Directory::Add Add a file into the directory. Return TRUE if successful;. ">Directory::Add</a> Add a file into the directory. Return TRUE if successful;. </p>
<dl class="section return"><dt>Returns</dt><dd>return FALSE if the file name is already in the directory, or if the directory is completely full, and has no more space for additional file names.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>&ndash; the name of the file being added </td></tr>
    <tr><td class="paramname">newSector</td><td>&ndash; the disk sector containing the added file's header </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a36ed455b21bbd9a66ffe8ec689ff7c73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Directory::FetchFrom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_open_file.html">OpenFile</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_directory.html#a36ed455b21bbd9a66ffe8ec689ff7c73" title="Directory::FetchFrom Read the contents of the directory from disk. ">Directory::FetchFrom</a> Read the contents of the directory from disk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>&ndash; file containing the directory contents </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abfe376d1883918703cda2a6a4e23ffa8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Directory::Find </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_directory.html#abfe376d1883918703cda2a6a4e23ffa8" title="Directory::Find Look up file name in directory, and return the disk sector number where the file&#39;s he...">Directory::Find</a> Look up file name in directory, and return the disk sector number where the file's header is stored. Return -1 if the name isn't in the directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>&ndash; the file name to look up </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3ad4280cbe376ef803105e6a35856165"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Directory::Remove </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_directory.html#a3ad4280cbe376ef803105e6a35856165" title="Directory::Remove Remove a file name from the directory. Return TRUE if successful;. ">Directory::Remove</a> Remove a file name from the directory. Return TRUE if successful;. </p>
<dl class="section return"><dt>Returns</dt><dd>FALSE if the file isn't in the directory.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>&ndash; the file name to be removed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abf5550df42587bbc604c71441a4d12fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Directory::WriteBack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_open_file.html">OpenFile</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_directory.html#abf5550df42587bbc604c71441a4d12fc" title="Directory::WriteBack Write any modifications to the directory back to disk. ">Directory::WriteBack</a> Write any modifications to the directory back to disk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>&ndash; file to contain the new directory contents </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>code/filesys/<a class="el" href="directory_8h_source.html">directory.h</a></li>
<li>code/filesys/<a class="el" href="directory_8cc.html">directory.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
